[gd_scene load_steps=8 format=3 uid="uid://d1exxolsljrsr"]

[ext_resource type="Script" uid="uid://1cjae6tmmx0" path="res://Scenes/game_master.gd" id="1_hg0ag"]
[ext_resource type="PackedScene" uid="uid://cmo44rk3t4wbk" path="res://Scenes/World.tscn" id="1_q24h2"]
[ext_resource type="PackedScene" uid="uid://cyd273blrwvj6" path="res://Scenes/user_interface.tscn" id="1_ro750"]
[ext_resource type="AudioStream" uid="uid://ljxj7l4mub5y" path="res://Assets/Sounds/beeckround.mp3" id="5_djosc"]
[ext_resource type="Script" uid="uid://dgsy51m7xgknr" path="res://Scenes/audio_stream_player.gd" id="6_b6i6a"]
[ext_resource type="Script" uid="uid://cjoqn18btts2h" path="res://Scenes/honey_progress.gd" id="3_hg0ag"]


[sub_resource type="ButtonGroup" id="ButtonGroup_q24h2"]
allow_unpress = true

[node name="GameNode" type="Node" node_paths=PackedStringArray("time_label")]
script = ExtResource("1_hg0ag")
time_to_winter = 600.0
time_label = NodePath("UI/UserInterface/HBox/RightScreen/HBoxContainer/MapArea/WinterCountdown")

[node name="UI_UserInterface_HBox_RightScreen_MapArea#Panel" type="Panel" parent="."]
custom_minimum_size = Vector2(276.945, 32.39)
size_flags_horizontal = 10
size_flags_vertical = 0

[node name="UI" type="CanvasLayer" parent="."]

[node name="UserInterface" parent="UI" instance=ExtResource("1_ro750")]

[node name="HiveView" parent="UI/UserInterface/HBox/TheClub/DancingFloor" index="0"]
clip_contents = true
custom_minimum_size = Vector2(500, 520)

[node name="FlowerTile" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="0"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="GrassTile" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="1"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="DangerTile" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="2"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="BlankTile" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="3"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="FlowerTile3" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="4"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="FlagTile" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons" index="5"]
button_group = SubResource("ButtonGroup_q24h2")

[node name="ProgressBar" parent="UI/UserInterface/HBox/RightScreen/Panel/Buttons/HoneyDisplay/VBoxContainer" index="1"]
script = ExtResource("3_hg0ag")

[node name="UI_UserInterface_HBox_RightScreen_MapArea_Panel#Label" type="Label" parent="."]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 10
size_flags_vertical = 0
theme_override_colors/font_color = Color(1, 1, 1, 1)
text = "Winter arrives:"

[node name="World" parent="." instance=ExtResource("1_q24h2")]

[node name="Camera2D" parent="World" index="0"]
position = Vector2(-49.011, 23.075)
zoom = Vector2(4.06, 4.06)

[node name="PlayerTileMapLayer" parent="World" index="1" node_paths=PackedStringArray("danger_layer", "flag_layer")]
danger_layer = NodePath("../DangerTileMapLayer")
flag_layer = NodePath("../FlagTileMapLayer")

[node name="MusicPlayer" type="Node" parent="."]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="MusicPlayer"]
stream = ExtResource("5_djosc")
autoplay = true
parameters/looping = false
script = ExtResource("6_b6i6a")

[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/Debug" to="World" method="_on_debug_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/FlowerTile" to="World/PlayerTileMapLayer" method="_on_flower_tile_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/GrassTile" to="World/PlayerTileMapLayer" method="_on_grass_tile_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/DangerTile" to="World/PlayerTileMapLayer" method="_on_danger_tile_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/BlankTile" to="World/PlayerTileMapLayer" method="_on_blank_tile_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/FlowerTile3" to="World/PlayerTileMapLayer" method="_on_flower_tile_toggled"]
[connection signal="toggled" from="UI/UserInterface/HBox/RightScreen/Panel/Buttons/TileChoosingButtons/FlagTile" to="World/PlayerTileMapLayer" method="_on_flag_tile_toggled"]

[editable path="UI/UserInterface"]
[editable path="World"]
